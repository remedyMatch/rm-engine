<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" id="Definitions_19t7l5v" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="3.2.1">
  <bpmn:process id="rm_registrierung_freigabe" name="Registrierung Freigabe" isExecutable="true">
    <bpmn:startEvent id="rm_registrierung_freigabe_start" name="Registrierung erhalten">
      <bpmn:outgoing>rm_registrierung_freigabe_SequenceFlow_0665u9q</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:sequenceFlow id="rm_registrierung_freigabe_SequenceFlow_0665u9q" sourceRef="rm_registrierung_freigabe_start" targetRef="rm_registrierung_freigabe_userTask_freigabe" />
    <bpmn:userTask id="rm_registrierung_freigabe_userTask_freigabe" name="Registrierung freigeben">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="keycloakUserId" label="Keycloak BenutzerId (ID)" type="string">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="keycloakGruppe" label="Keycloak Gruppe" type="string">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="createdAt" label="Keycloak ErstelltAm (CreatedAt)" type="string">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="keycloakStatus" label="Keycloak Status" type="string">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="institutionName" label="Institution Name" type="string">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="institutionTyp" label="Institution Typ" type="string">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="username" label="Keycloak Benutzername (Username)" type="string">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="vorname" label="Vorname" type="string">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="nachname" label="Nachname" type="string">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="email" label="E-Mail" type="string">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="telefon" label="Telefonnummer" type="string">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="strasse" label="Strasse" type="string">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="hausnummer" label="Hausnummer" type="string">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="plz" label="PLZ" type="string">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="ort" label="Ort" type="string">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="land" label="Land" type="string">
            <camunda:validation>
              <camunda:constraint name="readonly" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="freigeben" label="Freigeben ?" type="boolean" />
          <camunda:formField id="grund" label="Ablehnungsgrund" type="string" />
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>rm_registrierung_freigabe_SequenceFlow_0665u9q</bpmn:incoming>
      <bpmn:outgoing>rm_registrierung_freigabe_SequenceFlow_0a7twjn</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:exclusiveGateway id="rm_registrierung_freigabe_ExclusiveGateway_0af0k25" name="Freigegeben?" default="rm_registrierung_freigabe_SequenceFlow_1f7mgcg">
      <bpmn:incoming>rm_registrierung_freigabe_SequenceFlow_0a7twjn</bpmn:incoming>
      <bpmn:outgoing>rm_registrierung_freigabe_SequenceFlow_1s2yfjt</bpmn:outgoing>
      <bpmn:outgoing>rm_registrierung_freigabe_SequenceFlow_1f7mgcg</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="rm_registrierung_freigabe_SequenceFlow_0a7twjn" sourceRef="rm_registrierung_freigabe_userTask_freigabe" targetRef="rm_registrierung_freigabe_ExclusiveGateway_0af0k25" />
    <bpmn:sequenceFlow id="rm_registrierung_freigabe_SequenceFlow_1s2yfjt" name="Ja" sourceRef="rm_registrierung_freigabe_ExclusiveGateway_0af0k25" targetRef="rm_registrierung_freigabe_externalTask_benutzerFreigeben">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${freigeben}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="rm_registrierung_freigabe_SequenceFlow_1f7mgcg" name="Nein" sourceRef="rm_registrierung_freigabe_ExclusiveGateway_0af0k25" targetRef="rm_registrierung_freigabe_externalTask_benutzerAblehnen" />
    <bpmn:serviceTask id="rm_registrierung_freigabe_externalTask_benutzerFreigeben" name="Benutzer freigeben" camunda:type="external" camunda:topic="rm_registrierung_freigabe_externalTask_benutzerFreigeben">
      <bpmn:incoming>rm_registrierung_freigabe_SequenceFlow_1s2yfjt</bpmn:incoming>
      <bpmn:outgoing>rm_registrierung_freigabe_SequenceFlow_0mad53h</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="rm_registrierung_freigabe_externalTask_benutzerAblehnen" name="Benutzer ablehnen" camunda:expression="rm_registrierung_freigabe_externalTask_benutzerAblehnen">
      <bpmn:incoming>rm_registrierung_freigabe_SequenceFlow_1f7mgcg</bpmn:incoming>
      <bpmn:outgoing>rm_registrierung_freigabe_SequenceFlow_13rj26x</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:endEvent id="rm_registrierung_freigabe_end_registrierungAbgelehnt" name="Registrierung abgelehnt">
      <bpmn:incoming>rm_registrierung_freigabe_SequenceFlow_13rj26x</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="rm_registrierung_freigabe_SequenceFlow_13rj26x" sourceRef="rm_registrierung_freigabe_externalTask_benutzerAblehnen" targetRef="rm_registrierung_freigabe_end_registrierungAbgelehnt" />
    <bpmn:endEvent id="rm_registrierung_freigabe_end_registrierungGehnemigt" name="Registrierung gehnemigt">
      <bpmn:incoming>rm_registrierung_freigabe_SequenceFlow_0mad53h</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="rm_registrierung_freigabe_SequenceFlow_0mad53h" sourceRef="rm_registrierung_freigabe_externalTask_benutzerFreigeben" targetRef="rm_registrierung_freigabe_end_registrierungGehnemigt" />
  </bpmn:process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="rm_registrierung_freigabe">
      <bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="rm_registrierung_freigabe_start">
        <dc:Bounds x="179" y="159" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="164" y="202" width="66" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0665u9q_di" bpmnElement="rm_registrierung_freigabe_SequenceFlow_0665u9q">
        <di:waypoint x="215" y="177" />
        <di:waypoint x="270" y="177" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="UserTask_161c1ee_di" bpmnElement="rm_registrierung_freigabe_userTask_freigabe">
        <dc:Bounds x="270" y="137" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ExclusiveGateway_0af0k25_di" bpmnElement="rm_registrierung_freigabe_ExclusiveGateway_0af0k25" isMarkerVisible="true">
        <dc:Bounds x="425" y="152" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="416" y="123" width="68" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0a7twjn_di" bpmnElement="rm_registrierung_freigabe_SequenceFlow_0a7twjn">
        <di:waypoint x="370" y="177" />
        <di:waypoint x="425" y="177" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1s2yfjt_di" bpmnElement="rm_registrierung_freigabe_SequenceFlow_1s2yfjt">
        <di:waypoint x="475" y="177" />
        <di:waypoint x="530" y="177" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="497" y="159" width="12" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1f7mgcg_di" bpmnElement="rm_registrierung_freigabe_SequenceFlow_1f7mgcg">
        <di:waypoint x="450" y="202" />
        <di:waypoint x="450" y="290" />
        <di:waypoint x="530" y="290" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="454" y="243" width="23" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_0rdud1k_di" bpmnElement="rm_registrierung_freigabe_externalTask_benutzerFreigeben">
        <dc:Bounds x="530" y="137" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_0oqs7oo_di" bpmnElement="rm_registrierung_freigabe_externalTask_benutzerAblehnen">
        <dc:Bounds x="530" y="250" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="EndEvent_0duwxlu_di" bpmnElement="rm_registrierung_freigabe_end_registrierungAbgelehnt">
        <dc:Bounds x="692" y="272" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="678" y="315" width="66" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_13rj26x_di" bpmnElement="rm_registrierung_freigabe_SequenceFlow_13rj26x">
        <di:waypoint x="630" y="290" />
        <di:waypoint x="692" y="290" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="EndEvent_0td9j6l_di" bpmnElement="rm_registrierung_freigabe_end_registrierungGehnemigt">
        <dc:Bounds x="692" y="159" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="677" y="202" width="66" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0mad53h_di" bpmnElement="rm_registrierung_freigabe_SequenceFlow_0mad53h">
        <di:waypoint x="630" y="177" />
        <di:waypoint x="692" y="177" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
