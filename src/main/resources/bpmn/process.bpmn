<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" id="Definitions_1i1qdxc" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="3.4.1">
  <bpmn:process id="anfrage_prozess" isExecutable="true" camunda:historyTimeToLive="10">
    <bpmn:startEvent id="anfrage_prozess_start" name="Anfrage erhalten">
      <bpmn:outgoing>SequenceFlow_0q6746w</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:sequenceFlow id="SequenceFlow_0q6746w" sourceRef="anfrage_prozess_start" targetRef="anfrage_prozess_beantworten" />
    <bpmn:userTask id="anfrage_prozess_beantworten" name="Anfrage beantworten" camunda:candidateGroups="${institution}">
      <bpmn:incoming>SequenceFlow_0q6746w</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1ecxca3</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:sequenceFlow id="SequenceFlow_1ecxca3" sourceRef="anfrage_prozess_beantworten" targetRef="ExclusiveGateway_1h5lugi" />
    <bpmn:exclusiveGateway id="ExclusiveGateway_1h5lugi" name="Anfrage angenommen?" default="SequenceFlow_0mvxkxi">
      <bpmn:incoming>SequenceFlow_1ecxca3</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_10dif76</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_0mvxkxi</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="SequenceFlow_10dif76" name="ja" sourceRef="ExclusiveGateway_1h5lugi" targetRef="anfrage_prozess_annehmen">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${angenommen}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:endEvent id="anfrage_prozess_abgelehnt" name="Anfrage abgehlehnt">
      <bpmn:incoming>SequenceFlow_1jbuk2a</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="SequenceFlow_0mvxkxi" name="nein" sourceRef="ExclusiveGateway_1h5lugi" targetRef="anfrage_prozess_ablehnen" />
    <bpmn:serviceTask id="anfrage_prozess_annehmen" name="Annahme verarbeiten" camunda:type="external" camunda:topic="anfrageBestaetigung">
      <bpmn:incoming>SequenceFlow_10dif76</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1ittshu</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="SequenceFlow_1jbuk2a" sourceRef="anfrage_prozess_ablehnen" targetRef="anfrage_prozess_abgelehnt" />
    <bpmn:serviceTask id="anfrage_prozess_ablehnen" name="Anfrage ablehnen" camunda:type="external" camunda:topic="anfrageAblehnung">
      <bpmn:incoming>SequenceFlow_0mvxkxi</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1jbuk2a</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:userTask id="anfrage_prozess_empfang_bestaetigen" name="Wareneingang bestätigen" camunda:candidateGroups="${empfaenger}">
      <bpmn:incoming>SequenceFlow_1ittshu</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0qijd73</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:sequenceFlow id="SequenceFlow_1ittshu" sourceRef="anfrage_prozess_annehmen" targetRef="anfrage_prozess_empfang_bestaetigen" />
    <bpmn:endEvent id="EndEvent_02v020f" name="Auslieferung bestätigt">
      <bpmn:incoming>SequenceFlow_06l3vov</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="SequenceFlow_0qijd73" sourceRef="anfrage_prozess_empfang_bestaetigen" targetRef="Task_082riw8" />
    <bpmn:sequenceFlow id="SequenceFlow_06l3vov" sourceRef="Task_082riw8" targetRef="EndEvent_02v020f" />
    <bpmn:serviceTask id="Task_082riw8" name="Wareneingang verarbeiten" camunda:type="external" camunda:topic="auslieferungBestaetigung">
      <bpmn:incoming>SequenceFlow_0qijd73</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_06l3vov</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:boundaryEvent id="IntermediateThrowEvent_053cr5n" name="Waren nicht verfuegbar" attachedToRef="anfrage_prozess_annehmen">
      <bpmn:outgoing>SequenceFlow_0e66qdq</bpmn:outgoing>
      <bpmn:errorEventDefinition />
    </bpmn:boundaryEvent>
    <bpmn:sequenceFlow id="SequenceFlow_0e66qdq" sourceRef="IntermediateThrowEvent_053cr5n" targetRef="Task_09biyjx" />
    <bpmn:serviceTask id="Task_09biyjx" name="Anfrage ablehnen" camunda:type="external" camunda:topic="anfrageAblehnung">
      <bpmn:incoming>SequenceFlow_0e66qdq</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1g62jro</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:endEvent id="EndEvent_18dw73n">
      <bpmn:incoming>SequenceFlow_1g62jro</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="SequenceFlow_1g62jro" sourceRef="Task_09biyjx" targetRef="EndEvent_18dw73n" />
    <bpmn:subProcess id="SubProcess_0jowdv1" triggeredByEvent="true">
      <bpmn:startEvent id="StartEvent_0gmabmj" name="Stornierung erhalten">
        <bpmn:outgoing>SequenceFlow_1y3uo9k</bpmn:outgoing>
        <bpmn:messageEventDefinition messageRef="Message_19g43ei" />
      </bpmn:startEvent>
      <bpmn:sequenceFlow id="SequenceFlow_1y3uo9k" sourceRef="StartEvent_0gmabmj" targetRef="EndEvent_077de68" />
      <bpmn:endEvent id="EndEvent_077de68" name="Stornierung verarbeitet">
        <bpmn:incoming>SequenceFlow_1y3uo9k</bpmn:incoming>
        <bpmn:compensateEventDefinition />
      </bpmn:endEvent>
    </bpmn:subProcess>
    <bpmn:boundaryEvent id="IntermediateThrowEvent_11ytg7t" attachedToRef="anfrage_prozess_annehmen">
      <bpmn:compensateEventDefinition />
    </bpmn:boundaryEvent>
    <bpmn:serviceTask id="Task_0dsum81" name="Stornierung verarbeiten" isForCompensation="true" camunda:type="external" camunda:topic="stornierungVerarbeiten" />
    <bpmn:association id="Association_1i1i1oa" associationDirection="One" sourceRef="IntermediateThrowEvent_11ytg7t" targetRef="Task_0dsum81" />
  </bpmn:process>
  <bpmn:message id="Message_10lfe97" name="logistikStorniert" />
  <bpmn:message id="Message_07783hy" name="logistikBestaetigt" />
  <bpmn:message id="Message_19g43ei" name="stornierungErhalten" />
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="anfrage_prozess">
      <bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="anfrage_prozess_start">
        <dc:Bounds x="152" y="242" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="129" y="285" width="82" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0q6746w_di" bpmnElement="SequenceFlow_0q6746w">
        <di:waypoint x="188" y="260" />
        <di:waypoint x="240" y="260" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="UserTask_1306ii9_di" bpmnElement="anfrage_prozess_beantworten">
        <dc:Bounds x="240" y="220" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1ecxca3_di" bpmnElement="SequenceFlow_1ecxca3">
        <di:waypoint x="340" y="260" />
        <di:waypoint x="395" y="260" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ExclusiveGateway_1h5lugi_di" bpmnElement="ExclusiveGateway_1h5lugi" isMarkerVisible="true">
        <dc:Bounds x="395" y="235" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="383" y="205" width="74" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_10dif76_di" bpmnElement="SequenceFlow_10dif76">
        <di:waypoint x="445" y="260" />
        <di:waypoint x="510" y="260" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="473" y="242" width="9" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="EndEvent_0a7iupx_di" bpmnElement="anfrage_prozess_abgelehnt">
        <dc:Bounds x="652" y="482" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="643" y="525" width="55" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0mvxkxi_di" bpmnElement="SequenceFlow_0mvxkxi">
        <di:waypoint x="420" y="285" />
        <di:waypoint x="420" y="500" />
        <di:waypoint x="510" y="500" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="425" y="393" width="21" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_1x9dpdz_di" bpmnElement="anfrage_prozess_annehmen">
        <dc:Bounds x="510" y="220" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1jbuk2a_di" bpmnElement="SequenceFlow_1jbuk2a">
        <di:waypoint x="610" y="500" />
        <di:waypoint x="652" y="500" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_02dz5gb_di" bpmnElement="anfrage_prozess_ablehnen">
        <dc:Bounds x="510" y="460" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_1xbkb26_di" bpmnElement="anfrage_prozess_empfang_bestaetigen">
        <dc:Bounds x="670" y="220" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1ittshu_di" bpmnElement="SequenceFlow_1ittshu">
        <di:waypoint x="610" y="260" />
        <di:waypoint x="670" y="260" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="EndEvent_02v020f_di" bpmnElement="EndEvent_02v020f">
        <dc:Bounds x="992" y="242" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="979" y="285" width="62" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0qijd73_di" bpmnElement="SequenceFlow_0qijd73">
        <di:waypoint x="770" y="260" />
        <di:waypoint x="820" y="260" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_06l3vov_di" bpmnElement="SequenceFlow_06l3vov">
        <di:waypoint x="920" y="260" />
        <di:waypoint x="992" y="260" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_1ckcz9o_di" bpmnElement="Task_082riw8">
        <dc:Bounds x="820" y="220" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BoundaryEvent_1nl33oz_di" bpmnElement="IntermediateThrowEvent_053cr5n">
        <dc:Bounds x="572" y="202" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="520" y="172" width="59" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0e66qdq_di" bpmnElement="SequenceFlow_0e66qdq">
        <di:waypoint x="590" y="202" />
        <di:waypoint x="590" y="130" />
        <di:waypoint x="670" y="130" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_0iuhuf1_di" bpmnElement="Task_09biyjx">
        <dc:Bounds x="670" y="90" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="EndEvent_18dw73n_di" bpmnElement="EndEvent_18dw73n">
        <dc:Bounds x="832" y="112" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1g62jro_di" bpmnElement="SequenceFlow_1g62jro">
        <di:waypoint x="770" y="130" />
        <di:waypoint x="832" y="130" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="SubProcess_06mq1a9_di" bpmnElement="SubProcess_0jowdv1" isExpanded="true">
        <dc:Bounds x="140" y="360" width="220" height="160" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="StartEvent_0z07jze_di" bpmnElement="StartEvent_0gmabmj">
        <dc:Bounds x="180" y="402" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="170" y="445" width="57" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1y3uo9k_di" bpmnElement="SequenceFlow_1y3uo9k">
        <di:waypoint x="216" y="420" />
        <di:waypoint x="272" y="420" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="EndEvent_0btyd2v_di" bpmnElement="EndEvent_077de68">
        <dc:Bounds x="272" y="402" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="262" y="445" width="57" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BoundaryEvent_0qxynj9_di" bpmnElement="IntermediateThrowEvent_11ytg7t">
        <dc:Bounds x="562" y="282" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Association_1i1i1oa_di" bpmnElement="Association_1i1i1oa">
        <di:waypoint x="580" y="318" />
        <di:waypoint x="580" y="380" />
        <di:waypoint x="670" y="380" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_059c30b_di" bpmnElement="Task_0dsum81">
        <dc:Bounds x="670" y="340" width="100" height="80" />
      </bpmndi:BPMNShape>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
